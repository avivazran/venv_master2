import os, platform
from Marvell.pytoolsinfra.PythonLoggerInfra import LoggerManager
from Marvell.pytoolsinfra.PythonLoggerInfra.LoggerManager.DummyLogger import DummyLogger
from Marvell.pytoolsinfra.PythonLoggerInfra.LoggerManager.LoggerDecartor import LogWith, Log_all_class_methods

tmp_logger = None
show_params = True
console_only_logger = True

if platform.system() == "Linux":
    base_log_dir = "/local/store/ToolsInfraLogs"
    file_locaion_indicator = "/swdev"
else:
    base_log_dir = "c:\\ToolsInfraLogs"
    file_locaion_indicator = "\\\\"

base_path = os.path.dirname(os.path.abspath(__file__))


def GetFullPath(path):
    # type: (str) -> str
    if base_path.startswith(file_locaion_indicator):
        base_dir = os.path.join(base_log_dir, "ConfigurationModule")
    else:
        base_dir = base_path

    if path.startswith('.'):
        return base_dir + path[1:]
    else:
        return path

def init_logger():
    global tmp_logger
    if tmp_logger is None:
        tmp_logger = LoggerManager.GetLogger("ConfigurationModule", GetFullPath(os.path.join('.', 'Results')),
                                             "ConfigurationModuleLog", logger_type=LoggerManager.LogType.HTML_LOGGER,
                                             console_only_logger=console_only_logger)
        tmp_logger.setLoggingLevel(LoggerManager.INFO)
    return tmp_logger


config_logger = init_logger()
