import logging


class SysLogFormatter(logging.Formatter):
    """
    Adding the source on the message name to each record
    """

    def __init__(self, source_name, fmt):
        super(SysLogFormatter, self).__init__(fmt)
        self._source_name = source_name

    def format(self, record):

        message = record.getMessage()
        ret_msg = super(SysLogFormatter, self).format(record)
        index_of_start_msg = ret_msg.index(message)
        new_msg = ret_msg[:index_of_start_msg] + self._source_name + ":" + ret_msg[index_of_start_msg:]

        return new_msg
