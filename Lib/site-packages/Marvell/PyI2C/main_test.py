from Marvell.PyI2C.PyI2C import PyI2CInterface, I2CProviderType

i2cif = PyI2CInterface()
# i2cif.Init(I2CProviderType.SUB20)
i2cif.Init(I2CProviderType.MIBS)

i2cif.SetLog(0)
i2cif.Connect("10.4.65.184:23,root,Innovium123")
# i2cif.Connect(0x5498)

#i2cif.SetI2CConfigParams(0x5498)
try:
    i2cif.Execute('SetI2CConfigParams', 0x5498)
except Exception as e:
    print(str(e))
data = i2cif.I2C_Read(0x70, 0, 0, 1)
print([hex(d) for d in data])
# rc = i2cif.I2C_Write(0x70, 0, 0, [data[0] + 1], 1)
# print(rc)
data = i2cif.I2C_Read(0x70, 0, 0, 1)
print([hex(d) for d in data])
